<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <title>Document</title>
  </head>
  <body>
    <!--„Éò„ÉÉ„ÉÄ„Éº-->
    <header>
      <div>Ajax Portal</div>
      <nav>
        <ul>
          <li>ÂÜôÁúü</li>
          <li>ÂÜôÁúü„Éñ„É≠„Ç∞</li>
          <li>IT„Éñ„É≠„Ç∞</li>
          <li>Ëá™Â∑±Á¥π‰ªã</li>
        </ul>
      </nav>
    </header>
    <!--„Éú„Éá„Ç£-->
    <body>
      <div class="background_img">
        <img src="" alt="" />
      </div>
      <section class="gallery" id="gallery">
       {% for group in location_groups %}
          {% if group.count > 1 %}
          <!-- Ë§áÊï∞ÂÜôÁúü„ÅÆÂ†¥Âêà -->
          <div class="photo-item stacked" data-location="{{ group.location.location_name }}" ></div>
            <div class="stack-indicator">üìç {{ group.count }} photos</div>
            <div class="photo-stack">
            {% for photo in group.photos %}
              <div class="photo-card" {% if forloop.first %}onclick="openModal({{ photo.photo_id }})"{% endif %}>
                  <img src="{{ photo.picture }}" alt="{{ photo.title }}">
                  {% if forloop.first %}
                      <div class="photo-info">
                          <h3>{{ photo.title }}</h3>
                          <div class="photo-location">üìç {{ group.location.location_name }}</div>
                      </div>
                  {% endif %}
              </div>
            {% endfor %}
            </div>
          </div>
          {% else %}
            <!-- ÂÜôÁúü‰∏Ä„Å§„ÅÆÂ†¥Âêà -->
            <div class="photo-item" onclick="openModal({{ group.photos.0.photo_id }})">
                <div class="photo-stack">
                    <div class="photo-card">
                        <img src="{{ group.photos.0.picture.url }}" alt="{{ group.photos.0.title }}">
                        <div class="photo-info">
                            <h3>{{ group.photos.0.title }}</h3>
                            <div class="photo-location">üìç {{ group.location.location_name }}</div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
      {% endfor %}
      </section>
    </body>
  </body>
</html>
